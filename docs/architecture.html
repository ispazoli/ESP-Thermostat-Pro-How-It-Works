<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ESP Thermostat Pro – How It Works</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>ESP Thermostat Pro</h1>
          <div class="sub">How It Works • Docs</div>
        </div>
      </div>

      <nav class="nav" aria-label="Primary">
        <a href="index.html" data-i18n="nav_home">Overview</a>
        <a href="architecture.html" data-i18n="nav_arch">Architecture</a>
        <a href="ui.html" data-i18n="nav_ui">UI</a>
        <a href="control-logic.html" data-i18n="nav_logic">Control Logic</a>
        <a href="safety.html" data-i18n="nav_safety">Safety</a>
        <a href="energy.html" data-i18n="nav_energy">Gas & Energy</a>
        <a href="pages.html" data-i18n="nav_install">GitHub Pages</a>
      </nav>

      <div class="controls">
        <span class="badge" data-i18n="badge_static">Static Docs</span>
        <span class="badge" data-i18n="badge_dual">ESP32 + ESP-01</span>
        <button class="btn" id="langBtn" type="button">HU</button>
      </div>
    </div>
  </div>

  <main class="wrap">
    
<section class="hero">
  <h2 data-i18n="arch_h">System architecture</h2>
  <p data-i18n="arch_p"></p>
</section>

<div class="grid cols2">
  <div class="card">
    <h3 data-i18n="arch_hw_h">Hardware block diagram</h3>
    <p data-i18n="arch_hw_p"></p>
    <div class="code" aria-label="Block diagram">
ESP32 Dev Module (UI + logic + DHT)
        │  Wi‑Fi (commands/status)
        ▼
ESP‑01 (ESP8266) Relay + DS18x20 ──► Gas Boiler (thermostat input)
    </div>
    <div class="small">Tip: Replace the placeholder esp01.jpg with your real photo (same filename).</div>
  </div>

  <div class="card">
    <h3>Hardware photos</h3>
    <div class="two">
      <div class="figure">
        <img src="assets/screenshots/Thermostat2.jpg" alt="UI detail">
        <div class="figcap">Web UI (Thermostat tab)</div>
      </div>
      <div class="figure" id="esp01Figure">
        <img src="assets/screenshots/esp01.jpg" alt="ESP-01 relay module"
             onerror="this.style.display='none'; document.getElementById('esp01Fallback').style.display='block';">
        <div id="esp01Fallback" class="figcap" style="display:none; opacity:.75;">
          ESP‑01 relay module image missing (place esp01.jpg in /docs/assets/screenshots)
        </div>
        <div class="figcap" style="border-top:0; opacity:.75;">ESP‑01 relay module (photo)</div>
      </div>
    </div>
  </div>
</div>

<section class="section">
  <h3 data-i18n="arch_flow_h">Data flow</h3>
  <p data-i18n="arch_flow_p"></p>
  <div class="grid cols3">
    <div class="card">
      <h3>Inputs</h3>
      <ul class="list">
        <li>Room air: DHT (ESP32)</li>
        <li>Boiler-side: DS18x20 (ESP-01)</li>
        <li>Outdoor: optional / derived (UI screenshots show weather module)</li>
      </ul>
    </div>
    <div class="card">
      <h3>Decision</h3>
      <ul class="list">
        <li>Target temperature (schedule/manual)</li>
        <li>Sensor source selection</li>
        <li>Smart modifiers (Preheat, Away)</li>
        <li>Safety gates (LoS)</li>
      </ul>
    </div>
    <div class="card">
      <h3>Actuation</h3>
      <ul class="list">
        <li>ESP32 decides ON/OFF</li>
        <li>ESP‑01 toggles relay</li>
        <li>Status displayed in UI</li>
      </ul>
    </div>
  </div>
</section>


    <div class="footer" data-i18n="footer">
      Made for GitHub Pages. This site is documentation only; the live control UI runs on the ESP32.
    </div>
  </main>

  <script src="site.js"></script>
</body>
</html>
